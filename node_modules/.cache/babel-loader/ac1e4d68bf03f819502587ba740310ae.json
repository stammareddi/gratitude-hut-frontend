{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useState}from\"react\";import axios from\"axios\";import{Form,Button}from\"react-bootstrap\";import\"./create.component.css\";import{Link}from\"react-router-dom\";import\"./update-journal.component.css\";var UpdateExercise=/*#__PURE__*/function(_Component){_inherits(UpdateExercise,_Component);var _super=_createSuper(UpdateExercise);function UpdateExercise(props){var _this;_classCallCheck(this,UpdateExercise);_this=_super.call(this,props);_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeDescription=_this.onChangeDescription.bind(_assertThisInitialized(_this));_this.onChangeDate=_this.onChangeDate.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.deleteExercise=_this.deleteExercise.bind(_assertThisInitialized(_this));_this.state={id:\"\",title:\"\",description:\"\",date:new Date()};return _this;}_createClass(UpdateExercise,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/journal/\"+this.props.match.params.id).then(function(res){_this2.setState({id:res.data.id,title:res.data.title,description:res.data.description,date:res.data.date});}).catch(function(res){return\"Error\";});}},{key:\"onChangeTitle\",value:function onChangeTitle(e){this.setState({title:e.target.value});}},{key:\"onChangeDescription\",value:function onChangeDescription(e){this.setState({description:e.target.value});}},{key:\"onChangeDate\",value:function onChangeDate(e){this.setState({date:e.target.value});}},{key:\"deleteExercise\",value:function deleteExercise(e){e.preventDefault();axios.delete(\"http://localhost:5000/journal/\"+this.props.match.params.id).then(function(res){console.log(\"Succes\");});window.location=\"/\";}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var entry={title:this.state.title,description:this.state.description,date:this.state.date};console.log(this.props.match.params.id);axios.post(\"http://localhost:5000/journal/update/\"+this.props.match.params.id,entry).then(function(res){return console.log(\"Post success\");}).catch(function(res){return\"Error\";});if(this.state.title!==\"\"&&this.state.description!==\"\"&&this.state.date!==null){document.getElementById(\"form\").reset();this.setState({title:\"\",description:\"\",date:new Date()});}window.location=\"/\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Form,{validated:true,id:\"form\",className:\"form\",children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"formTitle\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:this.state.title,onChange:this.onChangeTitle,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide title\"})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"formDescription\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description \"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:5,value:this.state.description,onChange:this.onChangeDescription,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please provide a description\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",onClick:this.onSubmit,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:this.deleteExercise,className:\"deleteButton\",children:\"Delete\"})})]});}}]);return UpdateExercise;}(Component);export{UpdateExercise as default};","map":{"version":3,"sources":["/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/src/components/update-journal.component.js"],"names":["React","Component","useState","axios","Form","Button","Link","UpdateExercise","props","onChangeTitle","bind","onChangeDescription","onChangeDate","onSubmit","deleteExercise","state","id","title","description","date","Date","get","match","params","then","res","setState","data","catch","e","target","value","preventDefault","delete","console","log","window","location","entry","post","document","getElementById","reset"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport axios from \"axios\";\nimport { Form, Button } from \"react-bootstrap\";\nimport \"./create.component.css\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./update-journal.component.css\";\n\nexport default class UpdateExercise extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.deleteExercise = this.deleteExercise.bind(this);\n    this.state = {\n      id: \"\",\n      title: \"\",\n      description: \"\",\n      date: new Date()\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(\"http://localhost:5000/journal/\" + this.props.match.params.id)\n      .then(res => {\n        this.setState({\n          id: res.data.id,\n          title: res.data.title,\n          description: res.data.description,\n          date: res.data.date\n        });\n      })\n      .catch(res => \"Error\");\n  }\n\n  onChangeTitle(e) {\n    this.setState({ title: e.target.value });\n  }\n\n  onChangeDescription(e) {\n    this.setState({ description: e.target.value });\n  }\n\n  onChangeDate(e) {\n    this.setState({ date: e.target.value });\n  }\n\n  deleteExercise(e) {\n    e.preventDefault();\n\n    axios\n      .delete(\"http://localhost:5000/journal/\" + this.props.match.params.id)\n      .then(res => {\n        console.log(\"Succes\");\n      });\n\n    window.location = \"/\";\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const entry = {\n      title: this.state.title,\n      description: this.state.description,\n      date: this.state.date\n    };\n\n    console.log(this.props.match.params.id);\n\n    axios\n      .post(\n        \"http://localhost:5000/journal/update/\" + this.props.match.params.id,\n        entry\n      )\n      .then(res => console.log(\"Post success\"))\n      .catch(res => \"Error\");\n\n    if (\n      this.state.title !== \"\" &&\n      this.state.description !== \"\" &&\n      this.state.date !== null\n    ) {\n      document.getElementById(\"form\").reset();\n\n      this.setState({\n        title: \"\",\n        description: \"\",\n        date: new Date()\n      });\n    }\n    window.location = \"/\";\n  }\n\n  render() {\n    return (\n      <Form validated id=\"form\" className=\"form\">\n        <Form.Group id=\"formTitle\">\n          <Form.Label>Title</Form.Label>\n          <Form.Control\n            type=\"text\"\n            value={this.state.title}\n            onChange={this.onChangeTitle}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Please provide title\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group id=\"formDescription\">\n          <Form.Label>Description </Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            rows={5}\n            value={this.state.description}\n            onChange={this.onChangeDescription}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Please provide a description\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\" onClick={this.onSubmit}>\n          Submit\n        </Button>\n\n        <Button variant=\"danger\">\n          <Link to=\"/\" onClick={this.deleteExercise} className=\"deleteButton\">\n            Delete\n          </Link>\n        </Button>\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}