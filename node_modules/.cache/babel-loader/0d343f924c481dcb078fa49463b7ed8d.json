{"ast":null,"code":"import _classCallCheck from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useEffect,useState}from\"react\";import BootStrapTable from\"react-bootstrap-table-next\";import axios from\"axios\";import paginationFactory from\"react-bootstrap-table2-paginator\";import{Modal,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import\"./home.component.css\";var TableDisplay=function TableDisplay(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),journals=_useState2[0],setJournals=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),journalinfo=_useState4[0],setJournalInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),showJournal=_useState6[0],setshowJournal=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var getJournalData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/journal\");case 3:data=_context.sent;setJournals(data.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getJournalData(){return _ref.apply(this,arguments);};}();useEffect(function(){getJournalData();},[]);var columns=[{dataField:\"title\",text:\"Title\"},{dataField:\"date\",text:\"Date\"}];var rowEvents={onClick:function onClick(e,row){console.log(row);setJournalInfo(row);toggleTrueFalse();}};var toggleTrueFalse=function toggleTrueFalse(){setshowJournal(handleShow);};var JournalContent=function JournalContent(){return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{id:\"formdisplay\",children:journalinfo.title})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"p\",{id:\"formdisplay\",children:journalinfo.description})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(Link,{to:\"/update/\"+journalinfo._id,className:\"editLink\",children:\"Edit\"})})]})]});};journals.map(function(curr){curr.date=curr.date.substring(0,10);});return/*#__PURE__*/_jsxs(\"div\",{className:\"JournalEntries\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Journal Entries\"}),/*#__PURE__*/_jsx(BootStrapTable,{keyField:\"_id\",data:journals,columns:columns,pagination:paginationFactory(),rowEvents:rowEvents,id:\"tabledisplay\"}),show?/*#__PURE__*/_jsx(JournalContent,{}):null]});};var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){_classCallCheck(this,Home);return _super.apply(this,arguments);}_createClass(Home,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(TableDisplay,{});}}]);return Home;}(Component);export{Home as default};","map":{"version":3,"sources":["/Users/stammareddi/Desktop/gratitude-hut/gratitude-hut-frontend/src/components/home.component.js"],"names":["React","Component","useEffect","useState","BootStrapTable","axios","paginationFactory","Modal","Button","Link","TableDisplay","journals","setJournals","journalinfo","setJournalInfo","showJournal","setshowJournal","show","setShow","handleClose","handleShow","getJournalData","get","data","console","log","columns","dataField","text","rowEvents","onClick","e","row","toggleTrueFalse","JournalContent","title","description","_id","map","curr","date","substring","Home"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport BootStrapTable from \"react-bootstrap-table-next\";\nimport axios from \"axios\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport \"./home.component.css\";\nconst TableDisplay = () => {\n  const [journals, setJournals] = useState([]);\n\n  const [journalinfo, setJournalInfo] = useState([]);\n  const [showJournal, setshowJournal] = useState([]);\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const getJournalData = async () => {\n    try {\n      const data = await axios.get(\"http://localhost:5000/journal\");\n\n      setJournals(data.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    getJournalData();\n  }, []);\n\n  const columns = [\n    { dataField: \"title\", text: \"Title\" },\n    { dataField: \"date\", text: \"Date\" }\n  ];\n\n  const rowEvents = {\n    onClick: (e, row) => {\n      console.log(row);\n      setJournalInfo(row);\n      toggleTrueFalse();\n    }\n  };\n\n  const toggleTrueFalse = () => {\n    setshowJournal(handleShow);\n  };\n\n  const JournalContent = () => {\n    return (\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header>\n          <Modal.Title id=\"formdisplay\">{journalinfo.title}</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          <p id=\"formdisplay\">{journalinfo.description}</p>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button>\n            <Link to={\"/update/\" + journalinfo._id} className=\"editLink\">\n              Edit\n            </Link>\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  };\n\n  journals.map(curr => {\n    curr.date = curr.date.substring(0, 10);\n  });\n\n  return (\n    <div className=\"JournalEntries\">\n      <h3>Journal Entries</h3>\n      <BootStrapTable\n        keyField=\"_id\"\n        data={journals}\n        columns={columns}\n        pagination={paginationFactory()}\n        rowEvents={rowEvents}\n        id=\"tabledisplay\"\n      />\n\n      {show ? <JournalContent /> : null}\n    </div>\n  );\n};\n\nexport default class Home extends Component {\n  render() {\n    return <TableDisplay />;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}